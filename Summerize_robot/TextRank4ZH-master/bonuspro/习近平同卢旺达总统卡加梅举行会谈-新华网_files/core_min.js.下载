window.$||($=function(a){return document.getElementById(a)});function $C(a){return document.createElement(a)}function $P(a,b){return b?b.appendChild(a):document.body.appendChild(a)}function $R(a){return a.parentNode.removeChild(a)}var isIE=navigator.appName.indexOf("Microsoft")!=-1;
if(window.Event&&!isIE){var SearchEvent=function(){for(var a=SearchEvent.caller;a!=null;){var b=a.arguments[0];if(b)if(String(b.constructor).indexOf("Event")>-1)return b;a=a.caller}return null};navigator.userAgent.indexOf("afari")==-1&&navigator.userAgent.indexOf("Opera")==-1&&window.constructor.prototype.__defineGetter__("event",function(){return SearchEvent()});Event.prototype.__defineSetter__("returnValue",function(a){a||this.preventDefault();return a});Event.prototype.__defineSetter__("cancelBubble",
function(a){a&&this.stopPropagation();return a});Event.prototype.__defineGetter__("clientX",function(){return this.pageX});Event.prototype.__defineGetter__("clientY",function(){return this.pageY});Event.prototype.__defineGetter__("keyCode",function(){return this.which});Event.prototype.__defineGetter__("button",function(){return this.which});Event.prototype.__defineGetter__("srcElement",function(){for(var a=this.target;a.nodeType!=1;)a=a.parentNode;return a});Event.prototype.__defineGetter__("offsetX",
function(){return this.layerX});Event.prototype.__defineGetter__("offsetY",function(){return this.layerY});Event.prototype.attachEvent=function(a,b){this.addEventListener(a.substring(2),b,true)};Event.prototype.detachEvent=function(a,b){this.removeEventListener(a.substring(2),b,true)};window.constructor.prototype.attachEvent=function(a,b){this.addEventListener(a.substring(2),b,true)};window.constructor.prototype.detachEvent=function(a,b){this.removeEventListener(a.substring(2),b,true)};document.constructor.prototype.attachEvent=
function(a,b){this.addEventListener(a.substring(2),b,true)};document.constructor.prototype.detachEvent=function(a,b){this.removeEventListener(a.substring(2),b,true)};Element.prototype.attachEvent=function(a,b){this.addEventListener(a.substring(2),b,true)};Element.prototype.detachEvent=function(a,b){this.removeEventListener(a.substring(2),b,true)};HTMLElement.prototype.attachEvent=function(a,b){this.addEventListener(a.substring(2),b,true)};HTMLElement.prototype.detachEvent=function(a,b){this.removeEventListener(a.substring(2),
b,true)}}function cacheBackground(){try{var a=null,b=0;b=(a=navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/))?parseInt(a[1],10):0;b==6&&document.execCommand("BackgroundImageCache",false,true)}catch(c){}}cacheBackground();
var G_CORE_DATA={loadJSData:function(a,b,c,d,f){var h=document.getElementsByTagName("head")[0],e=$C("script"),g="dynamic_script_"+(new Date).getTime()+"_"+Math.random(),j=undefined!==e.onreadystatechange&&undefined!==e.readyState?"onreadystatechange":"onload";c||(c=[]);e.language="javascript";e.type="text/javascript";if(typeof f!="undefined")e.charset=f;e.src=a;e.id=g;e.attachEvent(j,function(){var i=e.readyState||"loaded";if("loaded"==i||"complete"==i){if(typeof b=="string")setTimeout(function(){eval(b).apply(null,
c)},50);else typeof b=="function"&&setTimeout(function(){b.apply(null,c)},50);d&&$R(e,h);e=h=null}});$P(e,h)},loadJSDataByTimeslice:function(a,b,c,d,f,h){var e=document.getElementsByTagName("head")[0],g=$C("script"),j=null,i=false,k="dynamic_script_"+(new Date).getTime()+"_"+Math.random(),m=undefined!==g.onreadystatechange&&undefined!==g.readyState?"onreadystatechange":"onload";g.language="javascript";g.type="text/javascript";if(typeof h!="undefined")g.charset=h;g.src=a;g.id=k;g.attachEvent(m,function(){var l=
g.readyState||"loaded";if("loaded"==l||"complete"==l){if(null!=j){clearTimeout(j);j=null}if(!i){i=true;c.unshift(false);if(typeof b=="string")setTimeout(function(){try{eval(b).apply(null,c)}catch(n){}},50);else typeof b=="function"&&setTimeout(function(){b.apply(null,c)},50)}d&&$R(g,e);g=e=null}});$P(g,e);j=setTimeout(function(){clearTimeout(j);j=null;if(!i){i=true;c.unshift(true);if(typeof b=="string")setTimeout(function(){try{eval(b).apply(null,c)}catch(l){}},50);else typeof b=="function"&&setTimeout(function(){try{b.apply(null,
c)}catch(l){}},50)}},f)},loadJSONDataByTimeslice:function(a,b,c,d,f,h,e){var g=$C("iframe"),j="dynamic_iframe_"+(new Date).getTime()+"_"+Math.random(),i=false,k=null;g.style.cssText="display:none";g.width=1;g.height=1;g.src=a;g.id=j;g.name=j;g.attachEvent("onload",function(){if(null!=k){clearTimeout(k);k=null}if(i){if(f)$R(g,h||null);g=null}else{i=true;try{if(typeof d=="object")for(var m=0;m<d.length;m++){var l=g.contentWindow[d[m]];c.unshift(l)}else{l=g.contentWindow[d];c.unshift(l)}}catch(n){c.unshift(null)}finally{if(typeof b==
"string")setTimeout(function(){eval(b).apply(null,c)},50);else typeof b=="function"&&setTimeout(function(){b.apply(null,c)},50);if(f)$R(g,h||null);g=null}}});$P(g,h||null);k=setTimeout(function(){clearTimeout(k);k=null;if(!i){i=true;c.unshift(null);if(typeof b=="string")setTimeout(function(){eval(b).apply(null,c)},50);else typeof b=="function"&&setTimeout(function(){b.apply(null,c)},50)}},e)},loadJSONData:function(a,b,c,d,f,h){var e=$C("iframe"),g="dynamic_iframe_"+(new Date).getTime()+"_"+Math.random();
e.style.cssText="display:none";e.width=1;e.height=1;e.src=a;e.id=g;e.name=g;e.attachEvent("onload",function(){try{if(typeof d=="object")for(var j=0;j<d.length;j++){var i=e.contentWindow[d[j]];c.unshift(i)}else{i=e.contentWindow[d];c.unshift(i)}}catch(k){c.unshift(null)}finally{if(typeof b=="string")setTimeout(function(){eval(b).apply(null,c)},50);else typeof b=="function"&&setTimeout(function(){b.apply(null,c)},50);if(f)$R(e,h||null);e=null}});$P(e,h||null)}};
function loadJSData(a,b,c,d,f){G_CORE_DATA.loadJSData(a,b,c,d,f)}function loadJSDataByTimeslice(a,b,c,d,f,h){G_CORE_DATA.loadJSDataByTimeslice(a,b,c,d,f,h)}function loadJSONDataByTimeslice(a,b,c,d,f,h,e){G_CORE_DATA.loadJSONDataByTimeslice(a,b,c,d,f,h,e)}function loadJSONData(a,b,c,d,f,h){G_CORE_DATA.loadJSONData(a,b,c,d,f,h)}function getParameter(a){try{var b=document.location.href}catch(c){}a=RegExp("[?&]"+a+"=([^&#]+)","g").exec(b);b=null;if(null!=a)b=decodeURIComponent(a[1]);return b}
function getCookie(a){try{var b=document.cookie.match(RegExp("(^"+a+"| "+a+")=([^;]*)"))==null?"":decodeURIComponent(RegExp.$2);return b!=""?b:""}catch(c){return""}}function setCookie(a,b,c){if(arguments.length>2){var d=new Date((new Date).getTime()+c*36E5);document.cookie=a+"="+encodeURIComponent(b)+"; path=/; domain="+document.domain+"; expires="+d.toGMTString()}else document.cookie=a+"="+encodeURIComponent(b)+"; path=/; domain="+document.domain}
function setCookieWithDomain(a,b,c,d){var f="; path=/";if(c!=null){f=new Date((new Date).getTime()+c*36E5);f="; expires="+f.toGMTString()+"; path=/"}document.cookie=a+"="+escape(b)+";domain="+d+";"+f}var kkCore={refName:"kkCore"},G_CORE_CONTROL=null;
with(kkCore){kkCore.argumentsToArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b};Function.prototype.delayApply=function(a,b,c){var d=this;return setTimeout(function(){d.apply(b,c)},a)};Function.prototype.delayCall=function(a,b){return this.delayApply(a,b,argumentsToArray(arguments).slice(2))};kkCore.Error=function(){};Error.prototype.dump=function(a){return G_PLAYER_ERROR.dump(a)};kkCore.Debug=function(){};Debug.prototype.trace=function(a,b){var c="kankan=====DEBUG-POSITION:C "+
a+",DEBUG:"+b;try{G_PLAYER_INIT.dapctrl.Put("sDebugInfo",c)}catch(d){}};kkCore.Init=function(){this.loaded=false;G_CORE_CONTROL.showPlayer(true);this.checkAndPlay.delayCall(0,this);return true};Init.prototype.checkAndPlay=function(){if(G_PLAYER_INIT.playerLoaded){G_CORE_DEBUG.trace("player loaded");this.start()}else this.checkAndPlay.delayCall(100,this)};Init.prototype.start=function(){G_CORE_CONTROL.processEvent();this.loaded=true;G_CORE_CONTROL.fireEvent("onStart")};kkCore.Control=function(){this.currentIndex=
0;this.currentQuality=-1;this.qualitystr="000";this.playLock=false;this.progressCount=this.hideLevel=0;this.hasLowerQuality=this.hasHigherQuality=this.isLastPlaying=this.isSeeked=false;this.playMode=1;this.isServer=true;this.isFullscreen=false;this.isPlayNext=true};Control.prototype.addEventListener=function(a,b,c,d){this[b]||(this[b]=[]);if(!(this[b]instanceof Array))return false;for(var f=0;f<this[b].length;f++)if(this[b][f].o==a&&this[b][f].f==c)return true;this[b].push({o:a,f:c,t:d});return true};
Control.prototype.attachEvent=Control.prototype.addEventListener;Control.prototype.removeEventListener=function(a,b,c){if(!this[b]||!(this[b]instanceof Array))return false;for(var d=0;d<this[b].length;d++)if(this[b][d].o==a&&this[b][d].f==c){this[b].splice(d,1);0==this[b].length&&delete this[b];return true}return false};Control.prototype.detachEvent=Control.prototype.removeEventListener;Control.prototype.dispatchEvent=function(a){if(!this[a]||!(this[a]instanceof Array))return false;for(var b=[this].concat(argumentsToArray(arguments)),
c=this[a].slice(0),d=0;d<c.length;d++)typeof c[d].t=="number"?c[d].f.delayApply(c[d].t,c[d].o,b):c[d].f.apply(c[d].o,b);G_CORE_DEBUG.trace("Leave fireEvent "+a?a:"undefined");return true};Control.prototype.fireEvent=Control.prototype.dispatchEvent;Control.prototype.init=function(){try{this.currentIndex=this.getInitIndex()}catch(a){}};Control.prototype.processEvent=function(){G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onStop",G_CORE_CONTROL.f_onStop);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,
"onEnd",G_CORE_CONTROL.f_onEnd);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onopen",G_CORE_CONTROL.f_onOpen);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onRePlay",G_CORE_CONTROL.f_onRePlay);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onProgress",G_CORE_CONTROL.f_onProgress);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onExitFullScreen",G_CORE_CONTROL.f_onExitFullScreen);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onFullScreen",G_CORE_CONTROL.f_onFullScreen);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,
"onplaying",G_CORE_CONTROL.f_onplaying);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onErrorInfo",G_CORE_CONTROL.f_onErrorInfo);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onbuffering",G_CORE_CONTROL.f_onbuffering);G_PLAYER_INSTANCE.attachEvent(this,"onSeek",G_CORE_CONTROL.f_onSeek);G_PLAYER_INSTANCE.attachEvent(G_PLAYER_INSTANCE,"onPause",G_CORE_CONTROL.f_onPause)};Control.prototype.f_onSeek=function(){G_CORE_CONTROL.fireEvent("onSeek")};Control.prototype.f_onDragSeekEnd=function(){};Control.prototype.f_onStop=
function(){G_CORE_CONTROL.fireEvent("onStop");G_CORE_DEBUG.trace("recevie fire event:onStop")};Control.prototype.f_onEnd=function(){G_CORE_CONTROL.fireEvent("onEnd");if(G_CORE_CONTROL.isPlayNext)G_CORE_CONTROL.playNext();else if(G_CORE_CONTROL.isFullscreen){G_CORE_CONTROL.isFullscreen=false;G_PLAYER_INSTANCE.setFullScreen(false)}};Control.prototype.f_onRePlay=function(a,b,c){G_CORE_CONTROL.fireEvent("onRePlay");try{G_PLAYER_INSTANCE.closeNotice()}catch(d){}if(window.G_PLUGIN_MOVIE&&G_PLUGIN_MOVIE.lastSUrl)G_PLUGIN_MOVIE.playBysUrl(G_PLUGIN_MOVIE.lastSUrl,
true);else{if(window.G_PLUGIN_MOVIE)G_PLUGIN_MOVIE.autoplay=1;typeof c!="undefined"&&parseInt(c)>0?G_CORE_CONTROL.playMovie(G_CORE_CONTROL.currentIndex,c):G_CORE_CONTROL.play(G_CORE_CONTROL.currentIndex)}};Control.prototype.f_onProgress=function(){G_CORE_CONTROL.fireEvent("onProgressNOR")};Control.prototype.f_onExitFullScreen=function(){G_CORE_CONTROL.isFullscreen=false;G_CORE_CONTROL.fireEvent("onExitFullScreen")};Control.prototype.f_onFullScreen=function(){G_CORE_CONTROL.isFullscreen=true;G_CORE_CONTROL.fireEvent("onFullScreen")};
Control.prototype.f_onOpen=function(){G_CORE_CONTROL.setPlayPosition.delayCall(0,this);G_CORE_CONTROL.isLastPlaying=false;G_CORE_CONTROL.fireEvent("onopen");G_CORE_CONTROL.fireEvent("onCommonOpen")};Control.prototype.f_onplaying=function(){G_CORE_CONTROL.fireEvent("onCommonPlaying");if(!G_CORE_CONTROL.isLastPlaying){G_CORE_CONTROL.fireEvent("on1stPlaying");G_CORE_CONTROL.isLastPlaying=true}G_CORE_CONTROL.fireEvent("onPlaying")};Control.prototype.f_onErrorInfo=function(){var a=G_PLAYER_INSTANCE.getErrorInfo();
G_PLAYER_ERROR.dump.delayCall(50,G_PLAYER_ERROR,a,true)};Control.prototype.f_onbuffering=function(){G_CORE_CONTROL.fireEvent("onBuffering")};Control.prototype.f_onPause=function(){G_CORE_CONTROL.fireEvent("onPause")};Control.prototype.setPlayPosition=function(){if(!G_CORE_CONTROL.isSeeked&&window.G_MOVIE_DATA){var a=getParameter("seekpos"),b=getParameter("subid"),c=G_MOVIE_DATA.subids[G_CORE_CONTROL.currentIndex];if(a==null||isNaN(a)||b==null||c!=b)return false;else try{G_PLAYER_INSTANCE.setPlayPosition(a)}catch(d){}finally{G_CORE_CONTROL.isSeeked=
true}}};Control.prototype.setLock=function(){this.playLock=true;setTimeout(function(){G_CORE_CONTROL.playLock=false},1E3)};Control.prototype.play=function(a){this.setLock();if(typeof G_PLAYER_INSTANCE=="undefined"||!G_PLAYER_INSTANCE)return false;G_PLAYER_INSTANCE.trace("play:"+a);this.currentIndex=a;if(this.currentIndex!=-1){G_CORE_DEBUG.trace("play:close");G_PLAYER_INSTANCE.close()}this.playMovie(a);this.fireEvent("onstartplay")};Control.prototype.playMovie=function(a,b){if(G_SUBMOVIE_DATA[a].msurls&&
G_SUBMOVIE_DATA[a].msurls.length==4){G_SUBMOVIE_DATA[a].msurls.pop();G_SUBMOVIE_DATA[a].type=G_SUBMOVIE_DATA[a].type.substr(0,3)+"0"}this.currentQuality=0;this.qualitystr="100";this._play(G_SUBMOVIE_DATA[a].msurls,this.currentQuality,a,b);this.playUrl=G_SUBMOVIE_DATA[a].msurls[this.currentQuality]};Control.prototype._play=function(a,b,c,d,f){this._serverPlay(a,b,c,d,f)};Control.prototype._serverPlay=function(a,b,c,d,f){G_PLAYER_INIT.issvod||(typeof f!="undefined"&&f==1?G_PLAYER_INSTANCE.setPlayPosition(d):
G_PLAYER_INSTANCE.close());b="";for(c=0;c<a.length;c++)if(typeof a[c]!="undefined"&&a[c]!=""){b=a[c];break}if(b=="")G_PLAYER_ERROR.dump("100");else{a=G_CORE_COMMON.getGCID(b);G_PLAYER_INSTANCE.gcid=a;G_CORE_SERVER.getCdnResource(a);this.playUrl=b}};Control.prototype.serverCorePlay=function(a,b){this.isServer=true;G_PLAYER_INSTANCE.playMode="DC";G_PLAYER_INSTANCE.bufferStart=4;G_PLAYER_INSTANCE.title=G_MOVIE_TITLE+G_MOVIE_DATA.subnames[G_CORE_CONTROL.currentIndex];G_PLAYER_INSTANCE.submovieid=G_SUBMOVIE_DATA[G_CORE_CONTROL.currentIndex].submovieid;
try{G_PLAYER_INSTANCE.totalByte=G_SUBMOVIE_DATA[G_CORE_CONTROL.currentIndex].size[G_CORE_CONTROL.currentQuality];G_PLAYER_INSTANCE.totalTime=G_SUBMOVIE_DATA[G_CORE_CONTROL.currentIndex].length_r[G_CORE_CONTROL.currentQuality];G_PLAYER_INSTANCE.sourceUrl=G_SUBMOVIE_DATA[G_CORE_CONTROL.currentIndex].msurls[G_CORE_CONTROL.currentQuality];G_PLAYER_INSTANCE.quality=this.currentQuality;G_PLAYER_INSTANCE.qualitystr=this.qualitystr}catch(c){}var d=1;G_PLAYER_INSTANCE.isFinal=typeof G_SUBMOVIE_DATA[G_CORE_CONTROL.currentIndex+
1]!="undefined"&&!(G_MOVIE_DATA.subtype[G_CORE_CONTROL.currentIndex+1]>2&&G_MOVIE_DATA.subtype[G_CORE_CONTROL.currentIndex]<3)&&G_CORE_CONTROL.isPlayNext?0:1;if(G_PLUGIN_MOVIE&&G_PLUGIN_MOVIE.autoplay)d=G_PLUGIN_MOVIE.autoplay;G_PLAYER_INSTANCE.flashopen(a,true,b,d)};Control.prototype.getIndexBySubid=function(a){for(var b=0;b<G_MOVIE_DATA.subids.length;b++)if(G_MOVIE_DATA.subids[b]==a)return b;return-1};Control.prototype._getInitIndex=function(){if(typeof G_MOVIE_DATA=="undefined")return false;return 0};
Control.prototype.initFirstPlay=function(){var a=0;a=this.getInitIndex();this.defaultQuality=getParameter("quality");_G(a)};Control.prototype.getInitIndex=function(){var a=0;a=getParameter("subid");a=parseInt(a)>0?this.getIndexBySubid(a):this._getInitIndex();if(a==-1)a=0;return a};Control.prototype.playNext=function(){if(this.isreplay)this.f_onRePlay("","",1);else{var a=G_CORE_CONTROL.currentIndex+1;if(window.G_MOVIE_DATA&&typeof G_MOVIE_DATA.subids[a]!="undefined"&&typeof G_MOVIE_DATA.subtype[G_CORE_CONTROL.currentIndex]!=
"undefined"){G_CORE_DEBUG.trace("G playNext");_G(a,1)}}};Control.prototype.setStat=function(){};Control.prototype.setHotKey=function(){document.attachEvent("onkeypress",G_CORE_CONTROL.checkKeyPress)};Control.prototype.checkKeyPress=function(){if(event.keyCode==32){var a=G_PLAYER_INSTANCE.getPlayStatus();if(a=="playing"){G_PLAYER_INSTANCE.pause();return false}if(a=="pause"){G_PLAYER_INSTANCE.play();return false}}};Control.prototype.hidePlayer=function(){if(this.hideLevel==0){G_PLAYER_INSTANCE.setFullScreen(false);
document.getElementById("_player").style.top="-2000px";if(G_PLAYER_INSTANCE&&G_PLAYER_INSTANCE.getPlayStatus()=="playing"){G_PLAYER_INSTANCE.pause();this.hidePlaying=true}}this.hideLevel++};Control.prototype.showPlayer=function(a){this.hideLevel!=0&&this.hideLevel--;if(this.hideLevel==0||a){document.getElementById("_player").style.top="";this.hideLevel=0;G_CORE_CONTROL.fireEvent("onPlayerShow");if(G_PLAYER_INSTANCE&&G_PLAYER_INSTANCE.getPlayStatus()=="pause"&&typeof this.hidePlaying!="undefined"&&
this.hidePlaying){G_PLAYER_INSTANCE.play();this.hidePlaying=false}}};kkCore.Common=function(){};Common.prototype.string2Array=function(a,b){return a.split(b)};Common.prototype.array2String=function(a,b){return a.join(b)};Common.prototype.getGCID=function(a){return a.split("/")[4].toUpperCase()};Common.prototype.getCID=function(a){return a.split("/")[5].toUpperCase()};Common.prototype.getPeerID=function(){};Common.prototype.pageRefresh=function(){var a=window.location.href.split("#");window.location=
window.location.href.indexOf("?")>0?a[0]+"&rd="+(new Date).getTime():a[0]+"?rd="+(new Date).getTime();return true};Common.prototype.getBitrate=function(a){try{return parseInt(a.split("/")[9],16)}catch(b){return"0"}};kkCore.Server=function(){this.url="http://p2s.xinhuanet.com/getCdnresource_flv?gcid=";this.retryTimes=0};Server.prototype.getCdnResource=function(a){G_CORE_DATA.loadJSONDataByTimeslice(this.url+a,G_CORE_SERVER.getCdnResourceHandler,[a],["jsonObj","jsCheckOutObj"],true,null,15E3)};Server.prototype.getCdnResourceHandler=
function(){var a=arguments,b=a[1],c=a[0],d=a[2];if(null!=b&&c!=null&&b.cdnlist1.length>0){a={ip:"",port:0,path:"",param1:0,param2:0};b=b.cdnlist1;a.ip=b[0].ip;a.port=b[0].port;a.path=b[0].path;a.param1=c.param1;a.param2=c.param2;a.isPure=true;G_CORE_CONTROL.serverIP=a.ip;G_CORE_CONTROL.playMode=1;G_CORE_CONTROL.showPlayer(true);G_CORE_CONTROL.serverCorePlay("",a)}else{if(typeof a[1]=="string"&&!d)d=a[1];if(G_CORE_SERVER.retryTimes<3&&d){G_CORE_SERVER.retryTimes++;setTimeout(function(){G_CORE_DATA.loadJSONDataByTimeslice(G_CORE_SERVER.url+
d,G_CORE_SERVER.getCdnResourceHandler,[d],["jsonObj","jsCheckOutObj"],true,null,15E3)},1E3);return false}else if(G_CORE_SERVER.retryTimes>=3&&G_SUBMOVIE_DATA[G_CORE_CONTROL.currentIndex].flvUrl){G_PLAYER_ERROR.dump("100");return false}G_PLAYER_ERROR.dump("100")}}}function _G(a){if(!G_CORE_CONTROL.playLock){G_CORE_CONTROL.currentIndex=a;G_CORE_CONTROL.play(a);try{G_PLAYER_INSTANCE.closeNotice()}catch(b){}}}function show_kk_player(){G_CORE_CONTROL.showPlayer()}
function hide_kk_player(){G_CORE_CONTROL.hidePlayer()}var G_CORE_ERROR=new kkCore.Error,G_CORE_DEBUG=new kkCore.Debug;G_CORE_CONTROL=new kkCore.Control;
var G_CORE_COMMON=new kkCore.Common,G_CORE_SERVER=new kkCore.Server,G_MOVIEID=null,G_MOVIE_TITLE=null,G_HALLID=null,G_MOVIE_TYPE=null,G_TAB_DATA=[],KKMovieData=KankanEventObj.extend({init:function(){this._super();this.manualData=this.sortSubDataType=false},movieCheck:function(){G_PLUGIN_MOVIE.init2.delayCall(0,G_PLUGIN_MOVIE)},init2:function(){G_MOVIEID=this.movieid;G_PLUGIN_MOVIE.getMovieDataHandler()},getMovieDataHandler:function(){try{this.moviedata=eval("moviedata_"+G_MOVIEID)}catch(a){G_PLAYER_ERROR.dump.delayCall(1E3,
G_PLAYER_ERROR,"100");return}if(this.moviedata){G_HALLID=this.moviedata.hallid;G_MOVIE_TITLE=this.moviedata.title;G_MOVIE_TYPE=this.moviedata.type;G_MOVIE_DATA=this.moviedata.moviedata;if(typeof G_SUBMOVIE_DATA=="undefined"||!G_SUBMOVIE_DATA)G_SUBMOVIE_DATA=Array(G_MOVIE_DATA.subids.length);_GMini(G_PLUGIN_MOVIE.index,G_PLUGIN_MOVIE.subid)}},setSubdata:function(a){G_SUBMOVIE_DATA=a},setMoviedata:function(a){this.movieid=G_MOVIEID=a.movieid;this.manualData=true;eval("moviedata_"+G_MOVIEID+" = moviedata;");
this.index=this.subid=-1;this.movieCheck(G_MOVIEID)},setConfig:function(a,b){if(a=="isPlayNext")if(b=="refresh")G_CORE_CONTROL.isRefresh=true;else G_CORE_CONTROL.isPlayNext=b},addCallBack:function(a,b){for(var c=["onstartplay","onBuffering","onPause","onStop","onEnd","onRePlay"],d=c.length-1;d>=0;--d)if(c[d]==a){G_CORE_CONTROL.attachEvent(window,a,b);break}},playSVOD:function(a){this.subchannel=a.subchannel;G_CORE_CONTROL.searchUrl=true;var b=G_PLUGIN_MOVIE,c=a.subdata[0];G_SUBMOVIE_DATA=[{submovieid:c.submovieid,
vCut:0,length:c.length,subStart:0,subEnd:c.length,type:"100",sids:[1,0,0],msurls:[c.lurl,"",""],length_r:[c.length,0,0],size:[c.size,0,0],flvUrl:""}];G_HALLID=G_MOVIEID=b.movieid=a.id;b.manualData=true;window["moviedata_"+G_MOVIEID]={movieid:G_MOVIEID,hallid:G_HALLID,title:"",movie_story_leak:0,version:a.desc,type:a.type,totle_vv:"",director:{},actor:[],genre:[],rating:"",area:{},intro:"",poster:a.poster,year:{},cpdata:{},ext:"flv",moviedata:{subids:[0],subnames:[c.subname],trailertime:["0"],subtype:["1"]}};
b.subid=c.submovieid;b.index=0;G_CORE_INIT.flvType=G_MOVIE_TYPE=a.type;b.channelid=a.channelid;b.movieCheck(a.id)},playVideo:function(a){var b="http://vod.xinhuanet.com/vod_video_js/"+Math.floor(parseInt(a)/1E3)+"/"+a+".js";loadJSData(b,this.playVideoHandler,[a],true)},playSvodByUrl:function(a,b){this.subchannel="video";G_CORE_CONTROL.searchUrl=true;var c=G_PLUGIN_MOVIE,d=[{submovieid:0,vCut:0,length:0,subStart:0,subEnd:0,type:"100",sids:[1,0,0],msurls:[a,"",""],length_r:[0,0,0],size:[0,0,0],flvUrl:""}];
G_HALLID=G_MOVIEID=c.movieid=0;c.manualData=true;window["moviedata_"+G_MOVIEID]={movieid:0,hallid:0,title:"",movie_story_leak:0,version:"",type:"video",totle_vv:"",director:{},actor:[],genre:[],rating:"",area:{},intro:"",poster:"",year:{},cpdata:{},ext:"flv",moviedata:{subids:[0],subnames:[""],trailertime:["0"],subtype:["1"]}};c.subid=0;c.index=0;G_CORE_INIT.flvType=G_MOVIE_TYPE="video";c.channelid=0;c.movieCheck(0);window.G_SUBMOVIE_DATA=d;this.autoplay=b?1:2},setQuailty:function(a){this.qualityShow=
a;window.G_PLAYER_INSTANCE&&G_PLAYER_INSTANCE.setQualityBtn(a)},playBysUrl:function(a,b){this.lastSUrl=a;this.subchannel="video";G_CORE_CONTROL.searchUrl=true;var c=G_PLUGIN_MOVIE,d=[{submovieid:0,vCut:0,length:0,subStart:0,subEnd:0,type:"100",sids:[1,0,0],msurls:[a,"",""],length_r:[0,0,0],size:[0,0,0],flvUrl:""}];G_HALLID=G_MOVIEID=c.movieid=0;c.manualData=true;window["moviedata_"+G_MOVIEID]={movieid:0,hallid:0,title:"",movie_story_leak:0,version:"",type:"video",totle_vv:"",director:{},actor:[],
genre:[],rating:"",area:{},intro:"",poster:"",year:{},cpdata:{},ext:"flv",moviedata:{subids:[0],subnames:[""],trailertime:["0"],subtype:["1"]}};c.subid=0;c.index=0;G_CORE_INIT.flvType=G_MOVIE_TYPE="video";c.channelid=0;window.G_SUBMOVIE_DATA=d;b=b?1:2;G_PLAYER_INSTANCE.flashopen(a,true,false,b)},playSvodByGcid:function(a,b){this.playSvodByUrl("http://pubnet.sandai.net:8080/40/"+a+"/791da8e88bd35800da83c5b2e83980ba61f9d777/5188fc/200000/0/82857/0/0/5188fc/0/index=32-34690/indexmd5=d4bc5c112d98e7ecad388d32781bbac1/8233a73e29b7a0f3d2ecc4fe78447506/9ac0c43dd671bde39bbcc376661d3273/791da8e88bd35800da83c5b2e83980ba61f9d777.mp4");
this.autoplay=b?1:2},playSvodById:function(a,b){var c="http://vod.xinhuanet.com/vod_video_js/"+Math.floor(parseInt(a)/1E3)+"/"+a+".js";loadJSData(c,function(){if(window.G_SVOD_DATA){G_PLUGIN_MOVIE.playSVOD(window.G_SVOD_DATA);window.G_SVOD_DATA=""}else G_PLAYER_ERROR.dump.delayCall(1E3,G_PLAYER_ERROR,"100")},[],true);this.autoplay=b?1:2},playVideoHandler:function(a){eval("videoData=vod_video_data_"+a);a=G_PLUGIN_MOVIE;G_SUBMOVIE_DATA=[{submovieid:0,vCut:0,length:videoData.leng,subStart:0,subEnd:videoData.leng,
type:"100",sids:[1,0,0],surls:[videoData.lurl,"",""],length_r:[videoData.leng,0,0],size:[videoData.size,0,0],flvUrl:videoData.surl}];G_MOVIEID=a.movieid=videoData.id;a.manualData=true;eval("moviedata_"+G_MOVIEID+" = vdata;");a.subid=0;a.index=0;G_CORE_INIT.flvType=G_MOVIE_TYPE="video";a.moviecheck(G_MOVIEID)},setMovieStatus:function(a){var b=G_PLAYER_INSTANCE;if(a&&b)switch(a){case "stop":b.fpstop();break;case "pause":b.pause();break;case "play":b.play()}},setFrontImg:function(a){G_PLAYER_INSTANCE.frontpageUrl=
a}});G_CORE_CONTROL.initFirstPlay=function(){G_PLUGIN_MOVIE.getMovieDataHandler()};function _GMini(a,b){var c=a!=-1?a:G_CORE_CONTROL.getIndexBySubid(b);if(c==-1){G_PLAYER_ERROR.dump("100");return false}G_SUBMOVIE_DATA&&G_SUBMOVIE_DATA[c]?G_CORE_CONTROL.play(c):G_PLAYER_ERROR.dump("100")}function _G(a,b){_GMini(a,b)}G_PLUGIN_MOVIE=new KKMovieData;
